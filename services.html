<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Услуги — Калды</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="icon" href="assets/logo.png" type="image/png">
</head>
<body>
  <div class="container">

<header class="header">
  <a class="brand" href="index.html">
    <img src="assets/logo.png" alt="Калды — логотип">
    <div class="title"><span class="ru">Калды</span><span class="subtitle">База отдыха</span></div>
  </a>

  <!-- КНОПКА-БУРГЕР -->
  <button class="burger" aria-label="Меню" aria-expanded="false">
    <span></span><span></span><span></span>
  </button>

  <nav class="nav">
    <a href="rooms.html">Домики</a>
    <a href="services.html">Услуги</a>
    <a href="gallery.html">Галерея</a>
    <a href="index.html#about">О нас</a>
    <a href="contacts.html">Контакты</a>
    <a class="btn" href="#" onclick="bookingStub(event)">Забронировать</a>
  </nav>
</header>

<section class="section grid-3">
  <!-- Баня -->
  <article class="card service-card" data-service-open="svc-banya" aria-label="Подробнее о бане/сауне">
    <div class="service-thumb">
      <img src="assets/services/banya-1.jpg" alt="Баня / сауна — превью">
    </div>
    <h3>Баня / сауна</h3>
    <p>Ароматная парилка, веники по записи, комната отдыха.</p>
    <p><strong>от 1 500 ₽ / час</strong></p>
  </article>

  <!-- Рыбалка -->
  <article class="card service-card" data-service-open="svc-fishing" aria-label="Подробнее о рыбалке">
    <div class="service-thumb">
      <img src="assets/services/fishing-1.jpg" alt="Рыбалка — превью">
    </div>
    <h3>Рыбалка</h3>
    <p>Прокат снастей, удобные мостки, ранний выход на воду.</p>
  </article>

  <!-- Аренда инвентаря -->
  <article class="card service-card" data-service-open="svc-rentals" aria-label="Подробнее об аренде инвентаря">
    <div class="service-thumb">
      <img src="assets/services/rentals-1.jpg" alt="Аренда инвентаря — превью">
    </div>
    <h3>Аренда инвентаря</h3>
    <p>Лодки, сапы, велосипеды, мячи и ракетки.</p>
  </article>

  <!-- Питание -->
  <article class="card service-card" data-service-open="svc-food" aria-label="Подробнее о питании">
    <div class="service-thumb">
      <img src="assets/services/food-1.jpg" alt="Питание — превью">
    </div>
    <h3>Питание</h3>
    <p>Кафе с домашним меню, завтраки, обеды, ужины.</p>
  </article>

  <!-- Детская зона -->
  <article class="card service-card" data-service-open="svc-kids" aria-label="Подробнее о детской зоне">
    <div class="service-thumb">
      <img src="assets/services/kids-1.jpg" alt="Детская зона — превью">
    </div>
    <h3>Детская зона</h3>
    <p>Песочницы, батут, безопасная зона на пляже.</p>
  </article>

  <!-- Мангал и террасы -->
  <article class="card service-card" data-service-open="svc-bbq" aria-label="Подробнее о мангале и террасах">
    <div class="service-thumb">
      <img src="assets/services/bbq-1.jpg" alt="Мангал и террасы — превью">
    </div>
    <h3>Мангал и террасы</h3>
    <p>Каждый домик имеет собственную оборудованную зону.</p>
  </article>
</section>

  </div>

<!-- ===== Модальные окна слайдерами (картинки не обрезаются) ===== -->

<!-- Баня -->
<div class="modal" id="svc-banya" aria-hidden="true">
  <div class="modal__dialog">
    <button class="modal__close" data-modal-close aria-label="Закрыть">×</button>
    <h3>Баня / сауна</h3>
    <p>Ароматная русская парилка рядом с озером. Веники по записи, есть комната отдыха.</p>
    <ul>
      <li>Вместимость: до 6 гостей</li>
      <li>Стоимость: от 1 500 ₽ / час</li>
      <li>Дополнительно: веники, полотенца — по запросу</li>
    </ul>

    <div class="modal__slider" data-slider>
      <div class="modal__slides">
        <div class="modal__slide"><img src="assets/services/banya-1.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/banya-2.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/banya-3.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/banya-4.jpg" alt=""></div>
      </div>
      <button class="modal__prev" aria-label="Назад">‹</button>
      <button class="modal__next" aria-label="Вперёд">›</button>
    </div>
  </div>
</div>

<!-- Рыбалка -->
<div class="modal" id="svc-fishing" aria-hidden="true">
  <div class="modal__dialog">
    <button class="modal__close" data-modal-close aria-label="Закрыть">×</button>
    <h3>Рыбалка</h3>
    <p>Удобные мостки, ранний выход на воду. Прокат снастей и живая наживка в сезон.</p>
    <ul>
      <li>Прокат: удочки, спиннинги, лодка</li>
      <li>Режим: восход–закат</li>
    </ul>

    <div class="modal__slider" data-slider>
      <div class="modal__slides">
        <div class="modal__slide"><img src="assets/services/fishing-1.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/fishing-2.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/fishing-3.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/fishing-4.jpg" alt=""></div>
      </div>
      <button class="modal__prev" aria-label="Назад">‹</button>
      <button class="modal__next" aria-label="Вперёд">›</button>
    </div>
  </div>
</div>

<!-- Аренда -->
<div class="modal" id="svc-rentals" aria-hidden="true">
  <div class="modal__dialog">
    <button class="modal__close" data-modal-close aria-label="Закрыть">×</button>
    <h3>Аренда инвентаря</h3>
    <p>Сапы, лодки, велосипеды, ракетки и мячи. Для гостей базы — со скидкой.</p>

    <div class="modal__slider" data-slider>
      <div class="modal__slides">
        <div class="modal__slide"><img src="assets/services/rentals-1.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/rentals-2.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/rentals-3.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/rentals-4.jpg" alt=""></div>
      </div>
      <button class="modal__prev" aria-label="Назад">‹</button>
      <button class="modal__next" aria-label="Вперёд">›</button>
    </div>
  </div>
</div>

<!-- Питание -->
<div class="modal" id="svc-food" aria-hidden="true">
  <div class="modal__dialog">
    <button class="modal__close" data-modal-close aria-label="Закрыть">×</button>
    <h3>Питание</h3>
    <p>Кафе с домашним меню. Завтраки, обеды, ужины, сезонные блюда.</p>

    <div class="modal__slider" data-slider>
      <div class="modal__slides">
        <div class="modal__slide"><img src="assets/services/food-1.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/food-2.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/food-3.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/food-4.jpg" alt=""></div>
      </div>
      <button class="modal__prev" aria-label="Назад">‹</button>
      <button class="modal__next" aria-label="Вперёд">›</button>
    </div>
  </div>
</div>

<!-- Детская зона -->
<div class="modal" id="svc-kids" aria-hidden="true">
  <div class="modal__dialog">
    <button class="modal__close" data-modal-close aria-label="Закрыть">×</button>
    <h3>Детская зона</h3>
    <p>Песочницы, батут, мягкое покрытие, теневые навесы. На пляже — мелкий вход.</p>

    <div class="modal__slider" data-slider>
      <div class="modal__slides">
        <div class="modal__slide"><img src="assets/services/kids-1.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/kids-2.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/kids-3.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/kids-4.jpg" alt=""></div>
      </div>
      <button class="modal__prev" aria-label="Назад">‹</button>
      <button class="modal__next" aria-label="Вперёд">›</button>
    </div>
  </div>
</div>

<!-- Мангал -->
<div class="modal" id="svc-bbq" aria-hidden="true">
  <div class="modal__dialog">
    <button class="modal__close" data-modal-close aria-label="Закрыть">×</button>
    <h3>Мангал и террасы</h3>
    <p>У каждого домика — своя зона: мангал, стол, лавочки. Уголь и дрова на ресепшене.</p>

    <div class="modal__slider" data-slider>
      <div class="modal__slides">
        <div class="modal__slide"><img src="assets/services/bbq-1.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/bbq-2.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/bbq-3.jpg" alt=""></div>
        <div class="modal__slide"><img src="assets/services/bbq-4.jpg" alt=""></div>
      </div>
      <button class="modal__prev" aria-label="Назад">‹</button>
      <button class="modal__next" aria-label="Вперёд">›</button>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <div class="row">
      <div>© 2025 «Калды». База отдыха у озера.</div>
      <div class="badge-pill">Тёплый отдых у воды</div>
    </div>
  </div>
</footer>
<script>
  document.addEventListener('DOMContentLoaded', function(){
    var burger = document.querySelector('.burger');
    var mask   = document.querySelector('.nav-mask');
    var nav    = document.querySelector('.nav');
    if(!burger || !nav) return;

    function open(){ document.body.classList.add('nav-open');  burger.setAttribute('aria-expanded','true'); }
    function close(){ document.body.classList.remove('nav-open'); burger.setAttribute('aria-expanded','false'); }

    burger.addEventListener('click', function(){
      document.body.classList.contains('nav-open') ? close() : open();
    });
    mask && mask.addEventListener('click', close);
    nav.querySelectorAll('a').forEach(function(a){ a.addEventListener('click', close); });
    window.addEventListener('keydown', function(e){ if(e.key==='Escape') close(); });
    window.addEventListener('resize', function(){ if(window.innerWidth>900) close(); });
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
  const currentPage = location.pathname.split('/').pop();
  document.querySelectorAll('.nav a').forEach(link => {
    const href = link.getAttribute('href');
    if (href === currentPage) link.classList.add('active');
    if ((currentPage === '' || currentPage === 'index.html') && (href === 'index.html' || href === '#about')) {
      link.classList.add('active');
    }
  });
});
</script>
<!-- <script src="scripts/main.js"></script> -->
<script>
  function closeMobileMenu(){
  document.body.classList.remove('nav-open');
  const burger = document.querySelector('.burger');
  if(burger) burger.setAttribute('aria-expanded','false');
}

// Оборачиваем openModal и лайтбокс
const originalOpenModal = window.openModal;
window.openModal = function(id, opener){
  closeMobileMenu();
  document.body.classList.add('modal-open');
  if(originalOpenModal) originalOpenModal(id, opener);
};

function openLightbox(){
  closeMobileMenu();
  document.body.classList.add('modal-open');
  // сюда твоя логика открытия лайтбокса
}

// При закрытии модалки/лайтбокса — снимаем modal-open
document.addEventListener('click', e=>{
  if(e.target.hasAttribute?.('data-modal-close') || e.target.classList?.contains('modal')){
    document.body.classList.remove('modal-open');
  }
});

document.addEventListener('keydown', e=>{
  if(e.key === 'Escape'){
    document.body.classList.remove('modal-open');
  }
});

</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  function closeMobileMenu(){
    document.body.classList.remove('nav-open');
    const burger = document.querySelector('.burger');
    if (burger) burger.setAttribute('aria-expanded','false');
  }

  document.querySelectorAll('.service-card[data-service-open]').forEach(card => {
    card.addEventListener('click', () => {
      const modalId = card.getAttribute('data-service-open');
      const modal = document.getElementById(modalId);
      if (!modal) return;

      closeMobileMenu();
      document.body.classList.add('modal-open');

      modal.classList.add('show');
      modal.setAttribute('aria-hidden', 'false');
      initModalSlider(modal);
      (modal.querySelector('.modal__next') || modal.querySelector('.modal__close') || modal).focus();
    });
  });

  document.querySelectorAll('.modal').forEach(modal => {
    const close = () => {
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden', 'true');
      document.body.classList.remove('modal-open'); 
    };

    modal.addEventListener('click', e => {
      if (e.target === modal || e.target.hasAttribute('data-modal-close')) close();
    });

    modal.addEventListener('keydown', e => {
      if (e.key === 'Escape') close();
    });
  });

  function initModalSlider(modal){
    if (modal.__sliderInited) return;
    modal.__sliderInited = true;

    const track  = modal.querySelector('.modal__slides');
    const slides = modal.querySelectorAll('.modal__slide');
    const prev   = modal.querySelector('.modal__prev');
    const next   = modal.querySelector('.modal__next');
    if (!track || !slides.length) return;

    let index = 0;

    function show(i){
      index = (i + slides.length) % slides.length;
      track.style.transform = `translateX(-${index*100}%)`;
    }

    prev && prev.addEventListener('click', e => { e.stopPropagation(); show(index-1); });
    next && next.addEventListener('click', e => { e.stopPropagation(); show(index+1); });

    const slider = modal.querySelector('.modal__slider');
    slider && slider.addEventListener('click', e => {
      if (e.target.closest('.modal__prev, .modal__next')) return;
      const r = slider.getBoundingClientRect();
      (e.clientX - r.left < r.width/2) ? show(index-1) : show(index+1);
    });

    let startX = 0, startY = 0, tracking = false, axis = null;
    const THRESH = 40; 

    function start(x, y){ startX = x; startY = y; tracking = true; axis = null; }
    function move(x, y, e){
      if (!tracking) return;
      if (axis == null) axis = Math.abs(x-startX) > Math.abs(y-startY) ? 'x' : 'y';
      if (axis === 'x') e.preventDefault(); 
    }
    function end(x){
      if (!tracking) return;
      const dx = x - startX;
      if (Math.abs(dx) > THRESH) (dx < 0 ? show(index+1) : show(index-1));
      tracking = false; axis = null;
    }

    slider && slider.addEventListener('touchstart', e => start(e.touches[0].clientX, e.touches[0].clientY), {passive:true});
    slider && slider.addEventListener('touchmove',  e => move(e.touches[0].clientX, e.touches[0].clientY, e), {passive:false});
    slider && slider.addEventListener('touchend',   e => end(e.changedTouches[0].clientX), {passive:true});

    slider && slider.addEventListener('pointerdown', e => start(e.clientX, e.clientY));
    slider && slider.addEventListener('pointermove',  e => move(e.clientX, e.clientY, e));
    slider && slider.addEventListener('pointerup',    e => end(e.clientX));

    show(0);
  }
});
</script>



</body>
</html>
