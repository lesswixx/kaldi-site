/* ===== Калды — База отдыха. Тёплая тема ===== */
:root{
  --orange:#E4872A;
  --orange-deep:#C86F2A;
  --blue:#4CB7C5;
  --sand:#FBF0DE;
  --charcoal:#3F3A36;
  --white:#FFFFFF;
  --radius:18px;
  --shadow-1:0 10px 30px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--charcoal);
  font-family:"Montserrat","Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background: radial-gradient(1200px 600px at 80% -10%, rgba(255,255,255,.7) 0%, rgba(255,255,255,0) 60%), var(--sand);
  line-height:1.6;
}
a{color:inherit}
.container{width:min(1120px,92vw);margin:0 авто;margin:0 auto;padding:24px}

/* Header */
.header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding-top:5px}
.brand{display:flex;align-items:center;gap:25px;text-decoration:none;padding-top: 10px;padding-left: 3px ;}
.brand img{width:44px;height:44px;border-radius:12px;background:var(--white);box-shadow:var(--shadow-1)}
.brand .title{line-height:1.05;display:grid}
.brand .title .ru{font-weight:800;font-size:clamp(18px,3.2vw,24px);letter-spacing:.02em}
.brand .subtitle{font-size:11px;opacity:.75;text-transform:uppercase;letter-spacing:.12em}
.nav{display:flex;gap:14px;flex-wrap:wrap}
.nav a{text-decoration:none;font-weight:600;padding:8px 10px;border-radius:10px}
.nav a:hover{background:rgba(0,0,0,.04)}
.nav .btn{padding:10px 14px}
.nav a.active{background:var(--orange);color:var(--white);box-shadow:0 4px 14px rgba(228,135,42,.25)}

/* Buttons */
.btn{
  display:inline-block; text-decoration:none; font-weight:700;
  background:var(--orange); color:var(--white);
  padding:12px 18px; border-radius:12px; box-shadow:0 6px 20px rgba(228,135,42,.35);
}
.btn:hover{filter:brightness(1.04);transform:translateY(-1px);}
.btn:active{transform:translateY(0)}
/* Кнопка "Забронировать" — текст чёрный при наведении */
.nav .btn:hover {
  color: #000;
}

/* Hero */
.hero{margin-top:22px;border-radius:var(--radius);overflow:hidden;background:conic-gradient(from 180deg at 60% 40%, rgba(76,183,197,.08), rgba(228,135,42,.06), rgba(76,183,197,.08));box-shadow:var(--shadow-1)}
.hero-inner{display:grid;grid-template-columns:1.1fr 1fr;gap:24px;align-items:center;padding:clamp(22px,4vw,48px)}
@media (max-width:860px){.hero-inner{grid-template-columns:1fr}}
.hero-copy h1{margin:0 0 10px 0;font-size:clamp(30px,5.2vw,54px);line-height:1.02;letter-spacing:.01ем}
.badge{display:inline-flex;align-items:center;gap:10px;background:var(--white);border-radius:999px;padding:8px 14px;box-shadow:var(--shadow-1);margin-bottom:12px}
.badge .dot{width:10px;height:10px;border-radius:50%;background:var(--orange)}
.hero-copy p{margin:0 0 16px 0;font-size:clamp(16px,2vw,18px);opacity:.9}
.hero-card{background:var(--white);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow-1);display:grid;gap:10px}
.hero-card .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.hero-card label{font-size:12px;text-transform:uppercase;letter-spacing:.08em;opacity:.7}
.hero-card .field{background:#F8F8F8;padding:10px 12px;border-radius:10px}
.wave{position:relative;height:80px;background:linear-gradient(0deg, rgba(76,183,197,.2), rgba(76,183,197,0))}
.wave svg{position:absolute;bottom:-1px;left:0;width:100%}

/* Sections */
.section{margin-top:32px}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
@media (max-width:900px){.grid-3{grid-template-columns:1fr}}
.card{background:var(--white);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow-1)}
.card p{margin:6px 0 0}

/* About photos */
.about-photos{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px}
.about-photos img{width:100%;height:160px;object-fit:cover;border-radius:10px;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease}
.about-photos img:hover{transform:scale(1.02);box-shadow:0 10px 24px rgba(0,0,0,.12)}

/* Feature cards */
.feature-card{cursor:pointer;transition:transform .18s ease, box-shadow .18s ease}
.feature-card:hover{transform:scale(1.02);box-shadow:0 14px 32px rgba(0,0,0,.12)}

/* Rooms (list) */
.room-card{display:grid;gap:12px}
.rooms-head{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.sort{display:flex;gap:8px;align-items:center}
.sort-btn{border:0;background:#fff;padding:8px 12px;border-radius:10px;cursor:pointer;box-shadow:var(--shadow-1);font-weight:700}
.sort-btn:hover{background:rgba(0,0,0,.04)}

/* Gallery */
.gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
@media (max-width:900px){.gallery{grid-template-columns:repeat(2,1fr)}}
.gallery img,.gallery .ph{width:100%;height:180px;object-fit:cover;border-radius:12px;cursor:pointer;box-shadow:var(--shadow-1);background:linear-gradient(135deg,#fefefe,#f2efe7);display:grid;place-items:center;color:#aaa;font-weight:700}

/* Lightbox */
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;padding:20px;z-index:40}
.lightbox img{max-width:92vw;max-height:86vh;border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,.5)}
.lightbox.active{display:flex}

/* Footer */
.footer{margin-top:40px;padding:22px 0;color:#6b655f}
.footer .row{display:flex;gap:20px;justify-content:space-between;align-items:center;flex-wrap:wrap}
.badge-pill{display:inline-block;background:rgba(228,135,42,.12);color:var(--orange-deep);padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;letter-spacing:.05em}

/* Forms */
form .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width:860px){form .row{grid-template-columns:1fr}}
input,textarea{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #e7e0d8;background:#fff;font-family:inherit}
textarea{margin-top: 10px; min-height:120px;resize:vertical}
form .actions{margin:10px}
.alert{padding:12px 14px;background:#fffbe6;border:1px solid #ffecb3;border-radius:12px}

/* Слайдер карточек (rooms) */
.slider{
  --ratio: 16 / 9;
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background: #f6f1e6;
  box-shadow: var(--shadow-1);
  transition: transform .24s ease, box-shadow .24s ease;
  cursor: pointer;
}
.slider:hover{transform:scale(1.02);box-shadow:0 14px 32px rgba(0,0,0,.12)}
.slides{display:flex;transition:transform .45s ease;will-change:transform}
.slide{flex:0 0 100%;aspect-ratio:var(--ratio);overflow:hidden}
.slide img{width:100%;height:100%;object-fit:cover;display:block}
.slider-link{display:block;text-decoration:none;color:inherit;border-radius:12px;overflow:hidden}

/* Weather */
.weather{
  position:absolute; right:0; top:-10px;
  transform: translateY(-100%);
  background:#fff; border-radius:12px; padding:8px 10px; box-shadow:var(--shadow-1);
  display:inline-flex; align-items:center; gap:10px;
}
.weather .w-row{display:flex;gap:10px;align-items:center}
.weather .w-temp{font-size:22px;font-weight:800}
.weather .w-meta{font-size:12px;opacity:.8}

/* Modal (общие) */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px;z-index:60}
.modal.show{display:flex}
.modal__dialog{height: 120%; background:#fff;border-radius:16px;max-width:860px;width:min(92vw,860px);padding:18px;box-shadow:var(--shadow-1);position:relative}
.modal__close{position:absolute;right:12px;top:6px;border:0;background:none;font-size:28px;cursor:pointer}

/* Слайдер в модалках — крупные фото, без обрезки */
.modal__slider{ position:relative;overflow:hidden;border-radius:12px;background:#f7f7f7}
.modal__slides{display:flex;transition:transform .3s ease;height:100%}
.modal__slide{flex:0 0 100%;display:flex;align-items:center;justify-content:center}
.modal__slide img{max-width:90vw;max-height: calc(100vh - 100px);width:auto;height:auto;object-fit:contain;border-radius:8px}
@media (max-width:900px){.modal__slide img{max-height:72vh}}

.modal__prev,
.modal__next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  border: none;
  background: none;       /* убрали белый круг */
  box-shadow: none;       /* убрали тень */
  width: auto;            /* убрали фикс. ширину */
  height: auto;           /* убрали фикс. высоту */
  font-size: 48px;        /* сделаем стрелку крупнее */
  line-height: 1;
  color: white !important;           /* цвет стрелки */
  cursor: pointer;
  z-index: 2;
}
.modal__prev { left: 15px; }
.modal__next { right: 15px; }

/* Детальные сетки */
.room-gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;margin-bottom:24px}
.room-gallery img{width:100%;height:200px;object-fit:cover;border-radius:8px;cursor:pointer;transition:transform .2s ease}
.room-gallery img:hover{transform:scale(1.03)}
/* === Lightbox: кнопки как в деталке (стрелки и крестик) === */
.lightbox { /* базовый стиль уже есть у тебя — оставляем */
  /* ничего не меняем, только убеждаемся, что поверх всего */
  z-index: 999;
}
.lightbox img { /* базовый стиль у тебя есть; оставляем как есть */ }

.lightbox button{
  position: absolute;
  background: none;
  border: none;
  color: #fff;
  font-size: 2rem;
  cursor: pointer;
  padding: .5rem;
  line-height: 1;
}

.lightbox-close{ top: 10px; right: 20px; font-size: 2.5rem; }
.lightbox-prev{ left: 20px; }
.lightbox-next{ right: 20px; }


/* Услуги: карточки кликабельные, с превью */
.service-card{
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease;
  display: grid;
  gap: 10px;
}
.service-card:hover{
  transform: scale(1.02);
  box-shadow: 0 14px 32px rgba(0,0,0,.12);
}
.service-thumb{
  border-radius: 12px;
  overflow: hidden;
  box-shadow: var(--shadow-1);
  background: #f6f1e6;
}
.service-thumb img{
  display: block;
  width: 100%;
  height: 180px;
  object-fit: cover;
}

/* --- FIX: модалка и слайдер влезают в экран, фото целиком --- */
.modal__dialog{
  /* не тянем диалог выше экрана */
  height:auto;                /* сбросить прежнее height:120% */
  max-height:calc(100vh - 64px);
  display:flex;
  flex-direction:column;
  overflow:hidden;            /* ничего не вылезает за края */
}

/* слайдер занимает остаток места внутри диалога */
.modal__slider{
  position:relative;
  flex:1 1 auto;
  min-height:220px;
  max-height:100%;
  overflow:hidden;
  border-radius:12px;
  background:#f7f7f7;
}
@media (max-width:640px){
  .modal__slider{ min-height:160px; }
}

/* трек и слайды растягиваются по высоте слайдера */
.modal__slides{ display:flex; height:100%; transition:transform .3s ease; }
.modal__slide{ flex:0 0 100%; height:100%; display:flex; align-items:center; justify-content:center; }

/* картинка ВСЕГДА целиком в видимой области */
.modal__slide img{
  max-width:100% !important;
  max-height:100% !important;
  width:auto; height:auto;
  object-fit:contain !important;   /* важное: не cover */
  border-radius:8px;
}

/* стрелки без белого круга (как просил) */
.modal__prev,.modal__next{
  position:absolute; top:50%; transform:translateY(-50%);
  border:none; background:none; box-shadow:none;
  width:auto; height:auto; font-size:48px; line-height:1;
  color:#666; cursor:pointer; z-index:2;
}
.modal__prev{ left:15px; } .modal__next{ right:15px; }
.contact-phone {
  display: inline-block;
  margin-bottom: 14px;
}

.contact-phone {
  display: block;
  margin-bottom: 14px;
}

.contact-phone {
  font-size: 1.5rem;                 /* крупнее, чем сейчас */
  font-weight: 900;                /* жирный */
  background: linear-gradient(90deg, #ff9800, #ffcc33);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;   /* градиент внутри цифр */
  letter-spacing: 1px;
}

.contact-phone:hover {
  filter: brightness(1.1);
}
/* === Mobile burger menu (off-canvas) === */
.burger {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 28px;
  height: 20px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
}
.burger span {
  display: block;
  height: 3px;
  background: var(--charcoal);
  border-radius: 2px;
  transition: .3s;
}

/* Анимация крестика */
body.nav-open .burger span:nth-child(1) { transform: translateY(8px) rotate(45deg); }
body.nav-open .burger span:nth-child(2) { opacity: 0; }
body.nav-open .burger span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

/* Затемнение фона */
.nav-mask { display: none; }

@media (max-width: 900px) {
  .burger { display: flex; z-index: 3000; }

  .nav {
    position: fixed; top: 0; right: -100%;
    height: 100vh; width: min(78vw, 340px);
    background: var(--white);
    box-shadow: -12px 0 36px rgba(0,0,0,.12);
    padding: 70px 18px 18px;
    display: flex; flex-direction: column; gap: 10px;
    transition: right .28s ease;
    z-index: 1001;
  }
  .nav a { display: block; padding: 12px 10px; border-radius: 10px; }

  body.nav-open .nav { right: 0; }

  .nav-mask {
    display: block;
    position: fixed; inset: 0;
    background: rgba(0,0,0,.45);
    opacity: 0; pointer-events: none;
    transition: opacity .26s ease;
    z-index: 1000;
  }
  body.nav-open .nav-mask { opacity: 1; pointer-events: auto; }

  /* слегка уплотним шапку на мобиле */
  .header { gap: 10px; }
}


/* ==== Мобильный свайп-галерея без JS/HTML правок ==== */
@media (max-width: 900px){
  
  /* вместо грида — горизонтальная лента со снапом */
  .room-gallery{
    display: flex !important;
    overflow-x: auto;
    gap: 8px;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 8px;        /* чтобы палец не цеплял низ */
    /* уберём возможные следы от grid */
    grid-template-columns: none !important;
  }
  .room-gallery::-webkit-scrollbar{ display: none; }
  .room-gallery{ scrollbar-width: none; } /* Firefox */

  /* каждый кадр — на ширину контейнера, снап по началу */
  .room-gallery img{
    flex: 0 0 100%;
    height: clamp(220px, 56vh, 420px);
    object-fit: cover;
    scroll-snap-align: start;
    border-radius: 12px;
    /* можно добавить лёгкую тень, если хочется */
    /* box-shadow: var(--shadow-1); */
  }
}


/* Когда открыт лайтбокс или модалка — блокируем клики по меню */
body.modal-open .nav,
body.modal-open .burger {
  pointer-events: none;
}

/* Чтобы бургер визуально оставался, но не реагировал */
body.modal-open .burger {
  opacity: 0.5; /* можно убрать, если не нужен эффект */
}

/* Модалка/лайтбокс поверх бургера и меню */
.modal{ z-index: 5000; }         /* было 60 — мало */
.lightbox{ z-index: 6000; }      /* лайтбокс сверху модалок */

/* Когда открыта модалка/лайтбокс — хедер не кликается и бургер прячем */
body.modal-open .header{ pointer-events: none; }
body.modal-open .burger{ opacity: 0; }   /* можно убрать строку, если не хочется визуально скрывать */


/* === Weather: мобильная компоновка === */
@media (max-width: 560px){
  /* вместо абсолютного — обычный поток */
  .weather{
    position: static;
    transform: none;
    right: auto; top: auto;
    width: 100%;
    margin: -6px 0 12px 0;          /* чуть прижмём к заголовку/кнопке */
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 12px;
  }

  /* внутри — растягиваем и уплотняем */
  .weather .w-row{
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between; /* темп слева, текст справа */
    gap: 10px;
  }

  .weather .w-temp{
    font-size: 18px;                /* было 22 — уменьшаем */
    font-weight: 800;
    line-height: 1;
  }

  .weather .w-meta{
    font-size: 12px;
    line-height: 1.2;
    opacity: .85;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;        /* длинные города не рвут строку */
  }

  /* карточке бронирования дадим место, если раньше виджет перекрывал её */
  .hero-card{ padding-top: 8px; }
}

/* сверхузкие экраны — ещё компактнее */
@media (max-width: 360px){
  .weather{ margin: 6px 10px; }
  .weather .w-temp{ font-size: 16px; }
  .weather .w-meta{ font-size: 11px; }
}


/* ===== FIX: Mobile burger menu fallback (robust, overrides broken block) ===== */
@media (max-width: 900px){
  .burger{
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    width:28px;
    height:20px;
    background:none;
    border:0;
    padding:0;
    cursor:pointer;
  }
  .burger span{
    display:block;
    height:3px;
    border-radius:3px;
    background:var(--charcoal);
    transition:transform .26s ease, opacity .26s ease;
  }
  /* off-canvas nav */
  .nav{
    position:fixed;
    top:0;
    right:-100%;
    height:100vh;
    width:min(82vw,360px);
    padding:20px;
    padding-top:calc(env(safe-area-inset-top,0px) + 16px);
    background:var(--sand);
    box-shadow:0 0 0 1px rgba(0,0,0,.04), 0 20px 60px rgba(0,0,0,.25);
    display:flex;
    flex-direction:column;
    gap:10px;
    transition:right .28s ease;
    z-index:2000;
  }
  .nav a{ display:block; padding:12px 10px; border-radius:10px; }
  body.nav-open .nav{ right:0; }

  .nav-mask{
    position:fixed; inset:0;
    background:rgba(0,0,0,.25);
    opacity:0; pointer-events:none;
    transition:opacity .26s ease;
    z-index:1000;
  }
  body.nav-open .nav-mask{ opacity:1; pointer-events:auto; }
}
body.modal-open .nav{ pointer-events:none; }
body.modal-open .burger{ opacity:.0; pointer-events:none; }


/* === Fallback: в некоторых встроенных браузерах viewport всегда ~980px.
   Если устройство тачевое — принудительно показываем бургер. === */
@media (hover: none) and (pointer: coarse) {
  .burger { display: flex !important; z-index: 3000; }
}
/* === Бургер: по умолчанию скрыт на десктопе === */
.burger {
  display: none;
  align-items: center;
  justify-content: center;
  width: 42px; height: 42px;
  border: 0; background: transparent; padding: 0;
  -webkit-tap-highlight-color: transparent;
}

/* Показываем на мобильной ширине */
@media (max-width: 900px) {
  .burger { display: flex; }
}

/* И на тач-устройствах (веб-вью Telegram/VK/Instagram), даже если ширина “десктопная” */
@media (hover: none) and (pointer: coarse) {
  .burger { display: flex; z-index: 3000; }
}

/* SVG общие стили (строки ровные, скруглённые, единая толщина) */
.burger-svg {
  width: 28px; height: 28px;
  stroke: var(--text, #2a2a2a);
  stroke-width: 2.4;
  stroke-linecap: round;
  fill: none;
}

/* Плавная смена слоёв */
.burger-svg .icon-burger line,
.burger-svg .icon-close  line {
  transition: opacity .2s ease;
}

/* Начальное: видим бургер, крестик скрыт */
.burger .icon-burger { opacity: 1; }
.burger .icon-close  { opacity: 0; }

/* Меню открыто → показываем крестик, прячем бургер */
.burger[aria-expanded="true"] .icon-burger,
body.nav-open .burger .icon-burger { opacity: 0; }

.burger[aria-expanded="true"] .icon-close,
body.nav-open .burger .icon-close  { opacity: 1; }

/* Маска фона (если её нет — добавит визуального затемнения) */
.nav-mask {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35);
  opacity: 0; pointer-events: none;
  transition: opacity .25s ease;
  z-index: 1000;
}
body.nav-open .nav-mask { opacity: 1; pointer-events: auto; }
